{% extends 'base.html' %}

{% block css %}
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <title>Register</title>
  <!-- Custom CSS -->
  <style>
    .main-section {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 80vh; /* Adjust height to make the form vertically centered */
    }
    .form-container {
      width: 100%;
      max-width: 400px; /* Adjust width as per your requirement */
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Optional: for shadow */
      border-radius: 10px;
      background: white; /* Optional: for background */
    }
    .form-field {
      margin-bottom: 16px; /* Spacing between fields, adjust as needed */
    }
    .btn-primary {
      width: 100%; /* Make the button full width */
    }
    .form-text {
      margin-top: 16px; /* Spacing after the button, adjust as needed */
    }
  </style>
{% endblock %}

{% block content %}
  <section class="main-section">
    <!-- Bootstrap Modal for Flash Messages -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="modal fade" id="flashMessageModal" tabindex="-1" aria-labelledby="flashMessageModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="flashMessageModalLabel">Notification</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                {% for message in messages %}
                  <p>{{ message }}</p>
                {% endfor %}
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
      {% endif %}
    {% endwith %}

    <script>
      // JavaScript to open the modal if it exists
      window.onload = function () {
        if (document.getElementById('flashMessageModal')) {
          new bootstrap.Modal(document.getElementById('flashMessageModal')).show()
        }
      }
    </script>

    <div class="form-container">
      <h2 class="text-center">Login</h2>
      <form action="/login" method="post" class="g-3">
        <div class="form-field">
          <input type="text" class="form-control" name="username" placeholder="Username" required />
        </div>
        <div class="form-field">
          <input type="password" class="form-control" name="password" placeholder="Password" required />
        </div>
        <button type="submit" class="btn btn-primary form-field">Login</button>
        <p class="text-center form-text">
          Don't have an account? <a href="/register">Register here</a>
        </p>
      </form>
    </div>
  </section>
{% endblock %}
