{% extends 'base.html' %}
{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename = 'marketstyle.css') }}" />
{% endblock %}
{% block css %}
<link rel="stylesheet" href="{{ url_for('static', filename = 'marketstyle.css') }}" />
{% endblock %}

{% block content %}
<section>
  <h2>Market Data</h2>
  <p>View the latest market trends and data.</p>
  <table class="table table-striped">
    <thead>
        <th>Name-Symbol</th>
        <th>Last Price</th>
        <th>IntraDay High</th>
        <th>IntraDay Low</th>
    </thead>
    <tbody>
      <!-- Dynamically generate stock items -->
      {% for stock in stocks %}
      <tr>
        <td><a href = "/market/{{stock.Name}}">{{ stock.Name }}</a></td>
        <td>{{ stock.LastPrice }}</td>
        <td>{{ stock.IntraDayHigh }}</td>
        <td>{{ stock.IntraDayLow }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</section>
<aside>
  <h3>Filters</h3>
  <form id="filter-form" method="get">
    <label for="pe-ratio">Min P/E Ratio:</label>
    <input type="number" id="peratio" name="pe-ratio" />
    <label for="last-price">Min Last Price:</label>
    <input type="number" id="lastprice" name="last-price" />
    <!-- Add more inputs for additional filters -->
    <br>
    <button type="submit">Apply Filters</button>
  </form>
  <br>
  <form action = '/market'>
    <button type = 'submit' name = 'reset'> Reset</button>
  </form>

</aside>
{% endblock %}